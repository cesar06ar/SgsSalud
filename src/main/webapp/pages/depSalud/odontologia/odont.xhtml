<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      template="/WEB-INF/view/templates/glue.xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:s="http://jboss.org/seam/faces"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"      
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:sgs="http://sgssalud.edu.org/jsf/facelets"
      xmlns:glue="http://eqaula.org/jsf/facelets">

    <ui:composition template="/WEB-INF/view/templates/glueHome.xhtml">
        <f:metadata>
            <f:viewParam name="fichaMedicaId" value="#{odontogramaHome.fichaMedicaId}" />
            <f:viewParam name="consultaOdontId" value="#{odontogramaHome.consultaOdontId}" />            
            <f:viewParam name="odontogramaId" value="#{odontogramaHome.odontogramaId}"/>
            <f:viewParam name="tipo" value="#{odontogramaHome.tipo}"/>            
            <f:viewParam name="backView" value="#{odontogramaHome.backView}"/>            
            <f:event listener="#{odontogramaHome.cargar}" type="preRenderView"/>
        </f:metadata>
        <ui:define name="header-replace" >
            <div class="header-replace">
                <div class="container-header" >
                    <div class="row lf row-title" >
                        <h2>#{odontogramaHome.managed? messages['common.edit'] : messages['common.add']}#{' Odontograma'} 
                            #{odontogramaHome.nombreOdont}</h2>                             
                        <div style="float: right; margin: -3% 0 3px 0 " >
                            <h:link outcome="/pages/depSalud/odontologia/consultaOdontologica" style="margin:0 0 0 0; width: 60px; height: 20px;"
                                    value="#{messages['common.cancel']}" styleClass="btn " rendered="#{odontogramaHome.instance.persistent}">
                                <f:param name="fichaMedicaId" value="#{odontogramaHome.fichaMedicaId}"></f:param>
                                <f:param name="consultaOdontId" value="#{odontogramaHome.consultaOdontId}"></f:param>
                                <f:param name="backView" value="#{odontogramaHome.backView}"/>
                            </h:link>                          
                        </div>
                    </div>
                </div>
            </div>
        </ui:define>
        <ui:define name="content-pre">
            <h:form id="form_pre" rendered="#{not odontogramaHome.instance.persistent}">
                <h3>#{'¡Usted va ha '} #{messages['common.add']}#{' un nuevo Odontograma '}
                    #{odontogramaHome.nombreOdont}#{' para este paciente. Confirme para realizar la acción!'} 
                </h3> 
                <div class="admin-actions" style="padding-right: 0%;">
                    <p:commandButton id="saveNew" action="#{odontogramaHome.guardar()}" value="#{messages['common.add']}" 
                                     styleClass="btn success offset4" onclick="imgDlg.show();">
                        <p:ajax process="@this" update=":form" rendered=":form" />
                    </p:commandButton>
                    &nbsp;&nbsp;
                    <h:link outcome="/pages/depSalud/odontologia/consultaOdontologica"
                            value="#{messages['common.cancel']}" styleClass="btn success" >
                        <f:param name="fichaMedicaId" value="#{odontogramaHome.fichaMedicaId}"></f:param>
                        <f:param name="consultaOdontId" value="#{odontogramaHome.consultaOdontId}"></f:param>
                        <f:param name="backView" value="#{odontogramaHome.backView}"/>
                    </h:link>
                    <p:panel id="img_p" widgetVar="imgDlg" style="display:none;">
                        <h:graphicImage id="img-spinner" value="/resources/js/loader.gif" />
                    </p:panel> 
                </div>
            </h:form>                
        </ui:define>
        <ui:define name="content" >
            <h:form id="form" rendered="#{odontogramaHome.instance.persistent}">                
                <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />                                     
                <!--<h:panelGroup id="odontograma" >  -->
                <p:panel id="panel" style="width: 1000px; margin-top: -2px " widgetVar="Odont">
                    <h5 class="title_odon"><center>ODONTOGRAMA</center></h5> 
                    <div class="container-fluid" >
                        <div class="row-fluid" style="width: 90%">   
                            <div style="width: 1020px; " >
                                <h:panelGroup id="odontC1" >                                        
                                    <sgs:denteS id="d18"  title="#{odontogramaHome.diente18.nombre} #{odontogramaHome.diente18.posicion}" 
                                                diente="#{odontogramaHome.diente18}" check="#{odontogramaHome.diente18.select}" 
                                                tratamientos="#{odontogramaHome.diente18.tratamientos}" 
                                                update=":form:opciones" render=":form:opciones" >
                                    </sgs:denteS> 

                                    <sgs:denteS id="d17" title="#{odontogramaHome.diente17.nombre} #{odontogramaHome.diente17.posicion}"
                                                diente="#{odontogramaHome.diente17}" check="#{odontogramaHome.diente17.select}" 
                                                tratamientos="#{odontogramaHome.diente17.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" >  
                                    </sgs:denteS>  
                                    <sgs:denteS id="d16"  title="#{odontogramaHome.diente16.nombre} #{odontogramaHome.diente16.posicion}"
                                                diente="#{odontogramaHome.diente16}" check="#{odontogramaHome.diente16.select}" 
                                                tratamientos="#{odontogramaHome.diente16.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" >                            
                                    </sgs:denteS>
                                    <sgs:denteS id="d15" title="#{odontogramaHome.diente15.nombre} #{odontogramaHome.diente15.posicion}"
                                                diente="#{odontogramaHome.diente15}" check="#{odontogramaHome.diente15.select}"
                                                tratamientos="#{odontogramaHome.diente15.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d14" title="#{odontogramaHome.diente14.nombre} #{odontogramaHome.diente14.posicion}"
                                                diente="#{odontogramaHome.diente14}" check="#{odontogramaHome.diente14.select}" 
                                                tratamientos="#{odontogramaHome.diente14.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d13" title="#{odontogramaHome.diente13.nombre} #{odontogramaHome.diente13.posicion}"
                                                diente="#{odontogramaHome.diente13}" check="#{odontogramaHome.diente13.select}" 
                                                tratamientos="#{odontogramaHome.diente13.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d12" title="#{odontogramaHome.diente12.nombre} #{odontogramaHome.diente12.posicion}"
                                                diente="#{odontogramaHome.diente12}" check="#{odontogramaHome.diente12.select}" 
                                                tratamientos="#{odontogramaHome.diente12.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d11" title="#{odontogramaHome.diente11.nombre} #{odontogramaHome.diente11.posicion}" 
                                                check="#{odontogramaHome.diente11.select}" diente="#{odontogramaHome.diente11}" 
                                                tratamientos="#{odontogramaHome.diente11.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>                
                                </h:panelGroup>    

                                <h:panelGroup id="odontC2" >                        
                                    <sgs:denteS id="d21" title="#{odontogramaHome.diente21.nombre} #{odontogramaHome.diente21.posicion}"
                                                check="#{odontogramaHome.diente21.select}" diente="#{odontogramaHome.diente21}" 
                                                tratamientos="#{odontogramaHome.diente21.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>                           
                                    <sgs:denteS id="d22" title="#{odontogramaHome.diente22.nombre} #{odontogramaHome.diente22.posicion}"
                                                check="#{odontogramaHome.diente22.select}" diente="#{odontogramaHome.diente22}" 
                                                tratamientos="#{odontogramaHome.diente22.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d23" title="#{odontogramaHome.diente23.nombre} #{odontogramaHome.diente23.posicion}"
                                                check="#{odontogramaHome.diente23.select}" diente="#{odontogramaHome.diente23}" 
                                                tratamientos="#{odontogramaHome.diente23.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d24" title="#{odontogramaHome.diente24.nombre} #{odontogramaHome.diente24.posicion}"
                                                check="#{odontogramaHome.diente24.select}" diente="#{odontogramaHome.diente24}" 
                                                tratamientos="#{odontogramaHome.diente24.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d25" title="#{odontogramaHome.diente25.nombre} #{odontogramaHome.diente25.posicion}"
                                                check="#{odontogramaHome.diente25.select}" diente="#{odontogramaHome.diente25}" 
                                                tratamientos="#{odontogramaHome.diente25.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d26" title="#{odontogramaHome.diente26.nombre} #{odontogramaHome.diente26.posicion}"
                                                check="#{odontogramaHome.diente26.select}" diente="#{odontogramaHome.diente26}" 
                                                tratamientos="#{odontogramaHome.diente26.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d27" title="#{odontogramaHome.diente27.nombre} #{odontogramaHome.diente27.posicion}"
                                                check="#{odontogramaHome.diente27.select}" diente="#{odontogramaHome.diente27}" 
                                                tratamientos="#{odontogramaHome.diente27.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                    <sgs:denteS id="d28" title="#{odontogramaHome.diente28.nombre} #{odontogramaHome.diente28.posicion}"
                                                check="#{odontogramaHome.diente28.select}" diente="#{odontogramaHome.diente28}" 
                                                tratamientos="#{odontogramaHome.diente28.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteS>
                                </h:panelGroup> 
                            </div>                       
                        </div>
                    </div>
                    <!--DIENTES INFERIORES-->
                    <div class="container-fluid" >
                        <div class="row-fluid" style="width: 90%" >   
                            <div style="width: 1020px; " >
                                <h:panelGroup id="odontC3" >
                                    <sgs:denteI id="d48" title="#{odontogramaHome.diente48.nombre} #{odontogramaHome.diente48.posicion}"
                                                check="#{odontogramaHome.diente48.select}" diente="#{odontogramaHome.diente48}" 
                                                tratamientos="#{odontogramaHome.diente48.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>  
                                    <sgs:denteI id="d47" title="#{odontogramaHome.diente47.nombre} #{odontogramaHome.diente47.posicion}"
                                                check="#{odontogramaHome.diente47.select}" diente="#{odontogramaHome.diente47}" 
                                                tratamientos="#{odontogramaHome.diente47.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>       
                                    <sgs:denteI id="d46" title="#{odontogramaHome.diente46.nombre} #{odontogramaHome.diente46.posicion}"
                                                check="#{odontogramaHome.diente46.select}" diente="#{odontogramaHome.diente46}" 
                                                tratamientos="#{odontogramaHome.diente46.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>
                                    <sgs:denteI id="d45" title="#{odontogramaHome.diente45.nombre} #{odontogramaHome.diente45.posicion}"
                                                check="#{odontogramaHome.diente45.select}" diente="#{odontogramaHome.diente45}" 
                                                tratamientos="#{odontogramaHome.diente45.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d44" title="#{odontogramaHome.diente44.nombre} #{odontogramaHome.diente44.posicion}"
                                                check="#{odontogramaHome.diente44.select}" diente="#{odontogramaHome.diente44}" 
                                                tratamientos="#{odontogramaHome.diente44.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d43" title="#{odontogramaHome.diente43.nombre} #{odontogramaHome.diente43.posicion}"
                                                check="#{odontogramaHome.diente43.select}" diente="#{odontogramaHome.diente43}" 
                                                tratamientos="#{odontogramaHome.diente43.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d42" title="#{odontogramaHome.diente42.nombre} #{odontogramaHome.diente42.posicion}"
                                                check="#{odontogramaHome.diente42.select}" diente="#{odontogramaHome.diente42}" 
                                                tratamientos="#{odontogramaHome.diente42.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>
                                    <sgs:denteI id="d41" title="#{odontogramaHome.diente41.nombre} #{odontogramaHome.diente41.posicion}"
                                                check="#{odontogramaHome.diente41.select}" diente="#{odontogramaHome.diente41}" 
                                                tratamientos="#{odontogramaHome.diente41.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>
                                </h:panelGroup>
                                <h:panelGroup id="odontC4" >
                                    <sgs:denteI id="d31" title="#{odontogramaHome.diente31.nombre} #{odontogramaHome.diente31.posicion}"
                                                check="#{odontogramaHome.diente31.select}" diente="#{odontogramaHome.diente31}" 
                                                tratamientos="#{odontogramaHome.diente31.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d32" title="#{odontogramaHome.diente32.nombre} #{odontogramaHome.diente32.posicion}"
                                                check="#{odontogramaHome.diente32.select}" diente="#{odontogramaHome.diente32}" 
                                                tratamientos="#{odontogramaHome.diente32.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>                                
                                    <sgs:denteI id="d33" title="#{odontogramaHome.diente33.nombre} #{odontogramaHome.diente33.posicion}"
                                                check="#{odontogramaHome.diente33.select}" diente="#{odontogramaHome.diente33}" 
                                                tratamientos="#{odontogramaHome.diente33.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d34" title="#{odontogramaHome.diente34.nombre} #{odontogramaHome.diente34.posicion}"
                                                check="#{odontogramaHome.diente34.select}" diente="#{odontogramaHome.diente34}" 
                                                tratamientos="#{odontogramaHome.diente34.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d35" title="#{odontogramaHome.diente35.nombre} #{odontogramaHome.diente35.posicion}"
                                                check="#{odontogramaHome.diente35.select}" diente="#{odontogramaHome.diente35}" 
                                                tratamientos="#{odontogramaHome.diente35.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d36" title="#{odontogramaHome.diente36.nombre} #{odontogramaHome.diente36.posicion}"
                                                check="#{odontogramaHome.diente36.select}" diente="#{odontogramaHome.diente36}" 
                                                tratamientos="#{odontogramaHome.diente36.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI> 
                                    <sgs:denteI id="d37" title="#{odontogramaHome.diente37.nombre} #{odontogramaHome.diente37.posicion}"
                                                check="#{odontogramaHome.diente37.select}" diente="#{odontogramaHome.diente37}" 
                                                tratamientos="#{odontogramaHome.diente37.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>   
                                    <sgs:denteI id="d38" title="#{odontogramaHome.diente38.nombre} #{odontogramaHome.diente38.posicion}"
                                                check="#{odontogramaHome.diente38.select}" diente="#{odontogramaHome.diente38}" 
                                                tratamientos="#{odontogramaHome.diente38.tratamientos}"
                                                update=":form:opciones" render=":form:opciones" > 
                                    </sgs:denteI>                   
                                </h:panelGroup>                            
                            </div>
                        </div>
                    </div>                
                </p:panel>           
                <p:panel id="opciones" header="Opciones" style=" width: 1000px;">
                    <div class="container-fluid">   
                        <div class="row-fluid">
                            <div class="span6">
                                <br/>                                
                                <p:commandLink title="#{messages['tratamiento.carie']}" action="#{odontogramaHome.mostrarPanel(2)}"
                                               styleClass="btn" ajax="true" update="@form" >
                                    <p:graphicImage value="/resources/tratamientoDentales/carie.gif" width="25" height="30" />
                                    <f:setPropertyActionListener value="/resources/odontograma/caries.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.carie']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel2}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel2" rendered=":form:opciones:panel2"/>                                    
                                </p:commandLink>   
                                <p:spacer  width="4" height="6"/>
                                <p:commandLink title="#{messages['tratamiento.obturacionProvicional']}" action="#{odontogramaHome.mostrarPanel(2)}"
                                               styleClass="btn" ajax="true" update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/obturacionProvicional.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/obturacion_provicional.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.obturacionProvicional']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel2}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel2" rendered=":form:opciones:panel2"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.obturacionDefinitiva']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(2)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/obturacionDefinitiva.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/obturacion_definitiva.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.obturacionDefinitiva']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel2}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel2" rendered=":form:opciones:panel2"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.sellanateNecesario']}" action="#{odontogramaHome.mostrarPanel(1)}"
                                               styleClass="btn" update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/superior/sellanteNecesarioS.gif" width="25" height="30" />
                                    <f:setPropertyActionListener value="/resources/odontograma/sellante_necesario.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.sellanateNecesario']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel1" rendered=":form:opciones:panel1"/>
                                </p:commandLink>                                  
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.sellanateRealizado']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/superior/sellanteRealizadoS.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/sellante_realizado.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.sellanateRealizado']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel1" rendered=":form:opciones:panel1"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.corona']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/superior/coronaS.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/corona.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.corona']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel1" rendered=":form:opciones:panel1"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.endodonciaNecesaria']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/superior/endodonciaNecesariaS.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/endodoncia_necesaria.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.endodonciaNecesaria']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel1" rendered=":form:opciones:panel1"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.endodonciaRealizada']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/superior/endodonciaRealizadaS.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/endodoncia_realizada.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.endodonciaRealizada']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel1" rendered=":form:opciones:panel1"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.extraccionIndicada']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/superior/extraccionIndicadaS.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/extraccion_indicada.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.extraccionIndicada']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel1" rendered=":form:opciones:panel1"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.ausenciaPiezaDental']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/tratamientoDentales/superior/ausenciaPiezaDentalS.gif" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/ausencia_pieza_dental.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.ausenciaPiezaDental']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel1" rendered=":form:opciones:panel1"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.protesisParcialRemovible']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/odontograma/protesisPR.png" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/protesis_parcial_removible.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.protesisParcialRemovible']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel3" rendered=":form:opciones:panel3"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.protesisFija']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(1)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/odontograma/protesisFija.png" width="25" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/protesis_fija.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.protesisFija']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel1}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel3" rendered=":form:opciones:panel3"/>
                                </p:commandLink>
                                <p:spacer  width="4" height="5"/>
                                <p:commandLink ajax="true" title="#{messages['tratamiento.protesisTotal']}" styleClass="btn" action="#{odontogramaHome.mostrarPanel(3)}"
                                               update="@form">
                                    <p:graphicImage value="/resources/odontograma/odontograma3.png" width="85" height="30"  />
                                    <f:setPropertyActionListener value="/resources/odontograma/odontograma3.png" target="#{odontogramaHome.ruta}"/>
                                    <f:setPropertyActionListener value="#{messages['tratamiento.protesisTotal']}" target="#{odontogramaHome.nombreTratamiento}"/>
                                    <f:setPropertyActionListener value="#{true}" target="#{odontogramaHome.panel3}"/>
                                    <p:ajax process="@this" update=":form:opciones:panel3" rendered=":form:opciones:panel3"/>
                                </p:commandLink>
                            </div>
                            <div class="span10" >        
                                <p:panelGrid columns="3">                                  
                                    <p:panel id="panel1" rendered="#{odontogramaHome.panel1}" header="#{odontogramaHome.nombreTratamiento}" >

                                        <p:graphicImage value="#{odontogramaHome.ruta}" width="55" height="45"/>
                                        <br/> 
                                    </p:panel>                                                        
                                    <p:panel id="panel2" rendered="#{odontogramaHome.panel2}" header="#{odontogramaHome.nombreTratamiento}" style="width: 260px;"> 

                                        <!--Tratamientos que se realizan a partes del diente-->
                                        <p:graphicImage value="#{odontogramaHome.ruta}" width="35" height="40" title="Vista previa"/>                                    
                                        <br/>
                                        <h:panelGroup >
                                            <h:outputText value="Seleccione las partes del diente"/>
                                            <div >    
                                                <p:graphicImage value="/resources/odontograma/diente.png" width="100" height="95"/>
                                                <div class="diente_c" style="margin: -90px 0 0 40px">
                                                    <p:selectBooleanCheckbox value="#{odontogramaHome.c1}" label="Cuadrante Superior" style="margin: 0 0 0 0;float: top">
                                                        <f:ajax execute="@this" render="saveTratamiento"  />
                                                    </p:selectBooleanCheckbox> 
                                                </div>
                                                <div style="margin: 6px 0 0 8px">
                                                    <p:selectBooleanCheckbox value="#{odontogramaHome.c4}" label="Cuadrante Izquierdo" >
                                                        <f:ajax execute="@this" render="saveTratamiento"  />
                                                    </p:selectBooleanCheckbox>                                                        
                                                    <p:selectBooleanCheckbox value="#{odontogramaHome.c5}" label="Cuadrante Centro" style="margin-left: 14px;">
                                                        <f:ajax execute="@this" render="saveTratamiento"  />
                                                    </p:selectBooleanCheckbox>
                                                    <p:selectBooleanCheckbox value="#{odontogramaHome.c2}" label="Cuadrante Derecho" style="margin-left: 16px;">
                                                        <f:ajax execute="@this" render="saveTratamiento"  />
                                                    </p:selectBooleanCheckbox>  
                                                </div>
                                                <div style="margin: 7px 0 0 35px">
                                                    <p:selectBooleanCheckbox value="#{odontogramaHome.c3}" label="Cuadrante Inferior" style="margin-left: 5px;">
                                                        <f:ajax execute="@this" render="saveTratamiento"  />
                                                    </p:selectBooleanCheckbox>  
                                                </div>
                                            </div>
                                        </h:panelGroup>                                    
                                    </p:panel>   
                                    <p:panel id="panel3" rendered="#{odontogramaHome.panel3}" header="#{odontogramaHome.nombreTratamiento}" >

                                        <p:graphicImage value="#{odontogramaHome.ruta}" width="50" height="30"/>
                                        <div class="span4">
                                            <p:selectBooleanCheckbox value="#{odontogramaHome.protesisTS}"  itemLabel="Dientes Superiores" style="margin-left: 5px;">
                                                <f:ajax execute="@this" render="saveTratamiento"  />
                                            </p:selectBooleanCheckbox> 
                                        </div>
                                        <br/>
                                        <div class="span4">
                                            <p:selectBooleanCheckbox value="#{odontogramaHome.protesisTI}" itemLabel="Dientes Inferior" style="margin-left: 5px;">
                                                <f:ajax execute="@this" render="saveTratamiento"  />
                                            </p:selectBooleanCheckbox> 
                                        </div>

                                    </p:panel> 

                                    <h:panelGroup class="span4" layout="block" rendered="#{odontogramaHome.tipo ne 0}">
                                        <label for="procedimient" style="margin-left: -35px;">#{messages['tratamiento.procedimiento']}:</label>
                                        <br/>                                        
                                        <div >
                                            <h:inputTextarea id="procedimient" value="#{odontogramaHome.procedimiento}"  style="width: 97%; height: 75px;" required="false" label="#{messages['tratamiento.procedimiento']}"  >
                                                <f:ajax execute="@this" render="saveTratamiento" event="blur"/> 
                                                <!--<p:ajax event="keyup" process="@this"  update="saveTratam iento"  />-->
                                            </h:inputTextarea>
                                        </div>
                                    </h:panelGroup>
                                    <h:panelGroup >                                        
                                        <p:commandButton id="saveTratamiento" value="#{messages['common.add']}" rendered="true" title="#{messages['common.add']} #{messages['tratamiento.nombre']}"
                                                         action="#{odontogramaHome.guardarTratamiento()}"   
                                                         styleClass="btn primary " ajax="true" immediate="true"
                                                         style="margin:5% 0 0 0; width: 90px; height: 50px;" >
                                            <p:ajax process="@this" update=":form:opciones " rendered=":form:odont "/>
                                        </p:commandButton>                                         
                                        <p:spacer  width="0" height="5"/>
                                        <h:commandLink value="Imprimir" styleClass="btn " title="Imprimir odontograma" style="margin:5% 0 0 0; width: 60px; height: 20px;">  
                                            <p:printer target=":form:panel" />
                                        </h:commandLink> 
                                        <p:spacer  width="0" height="5"/>
                                        <!--<p:commandLink id="button-inicial" type="button" value="# {messages['common.view']}" 
                                                       actionListener="# {odontogramaHome.cargarOdontogramaInicial()}"
                                                       title="Ver odontograma inicial" update="@form"
                                                        onclick="# {'inicialDlg.show()'}"  immediate="true" styleClass="btn" 
                                                       style="margin:5% 0 0 0; width: 60px; height: 20px;"
                                                       rendered="# {odontogramaHome.tipo ne 0}">                                 
                                            <p:ajax process="@this" update=":inicial-dialog" />
                                        </p:commandLink>-->


                                    </h:panelGroup>                                    
                                </p:panelGrid>                              
                            </div>
                        </div>                            
                    </div>
                </p:panel>           
                <p:panel id="tratam" header="Tratamientos" styleClass="span16" style=" width: 1000px;">

                    <p:dataTable id="tablaTratamientos" value="#{odontogramaHome.tratamientosData}" var="tratam_" 
                                 paginator="true" paginatorPosition="top"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {RowsPerPageDropdown} {NextPageLink} {LastPageLink} "
                                 rowsPerPageTemplate="5,10,20,50,100" 
                                 rows="20" editable="true" 
                                 selection="#{odontogramaHome.listaTratamientSelect}" 
                                 rowKey="#{tratam_.id}">

                        <!--selection="# {odontogramaHome.tratamiento}"  >-->

                        <p:column headerText="Diente" >
                            <h:outputText value="#{tratam_.diente.nombre}"/>&nbsp;&nbsp; 
                            <h:outputText value="#{tratam_.diente.posicion}"/>
                        </p:column>
                        <p:column headerText="Nombre" >
                            <h:outputText value="#{tratam_.nombre}" styleClass="span2"/>
                        </p:column>                        
                        <p:column headerText="Fecha realizada">
                            <h:outputText value="#{tratam_.fechaRealizacion}">
                                <f:convertDateTime pattern="dd-MM-yyyy"/>
                            </h:outputText>
                        </p:column>                                                
                        <p:column headerText="Procedimiento" rendered="#{odontogramaHome.tipo ne 0}">
                            <h:outputText value="#{tratam_.procedimiento}" styleClass="span2"/>
                        </p:column>                         
                        <p:column selectionMode="multiple" style="width:2%" />                          
                    </p:dataTable>
                    <h:commandLink value="Imprimir" styleClass="btn" title="Imprimir tratamientos">  
                        <p:printer target=":form:tablaTratamientos" />
                    </h:commandLink>  
                    &nbsp;
                    <p:commandLink id="button-delete" type="button" value="#{messages['common.delete']}" 
                                   oncomplete="#{'deletedDlg.show()'}"  immediate="true" styleClass="btn success" 
                                   style="width: 50px; height: 20px; margin-top: -5px; float: right"> 
                        <p:graphicImage value="/resources/images/delete.gif" width="12" height="12"/>                                
                        <p:ajax process="@this" update=":form:cancel-dialog" />
                    </p:commandLink>
                </p:panel>                 
                <p:dialog id="cancel-dialog" header="#{messages['common.delete.confirm']}" widgetVar="deletedDlg" resizable="false" modal="true">  
                    <h:form id="form-dialog-confirm-delete">
                        <h:panelGroup layout="block" style="padding:5px;">  
                            <h:outputText value="#{messages['common.delete.confirm.message']}"/>  
                        </h:panelGroup>  
                        <p:commandButton value="#{messages['common.yes']}" 
                                         action="#{odontogramaHome.borrarTratamiento()}" update=":form"  
                                         oncomplete="deletedDlg.hide();" 
                                         ajax="true" 
                                         style="margin-top:10px;">  
                            <p:ajax listener="#{odontogramaHome.cargar}" update=":form"/>
                        </p:commandButton>  
                        &nbsp;
                        <p:commandButton value="#{messages['common.no']}" type="button" onclick="deletedDlg.hide();"  
                                         style="margin-top:10px;"/>  
                    </h:form>
                </p:dialog>
            </h:form>          
            <!--<p:dialog id="inicial-dialog" header="#{messages['common.delete.confirm']}" widgetVar="inicialDlg" resizable="false" modal="true">  
                <h:form id="form-inicial">
                    <p:panel id="panel" style="width: 1000px; margin-top: -2px " widgetVar="Odont1">
                        <h5 class="title_odon"><center>ODONTOGRAMA INICIAL</center></h5> 
                        <div class="container-fluid" >
                            <div class="row-fluid" style="width: 90%">   
                                <div style="width: 1020px; " >
                                    <ui:repeat value="# {odontogramaHome.listaDientesSup}" var="ds">
                                        
                                        </sgs:denteS> 
                                    </ui:repeat>
                                </div>
                            </div>
                        </div>
                        <div class="container-fluid" >
                            <div class="row-fluid" style="width: 90%" >   
                                <div style="width: 1020px; " >
                                    <ui:repeat value="# {odontogramaHome.listaDientesInf}" var="di">
                                       
                                        </sgs:denteI>  
                                    </ui:repeat>
                                </div>
                            </div>
                        </div>

                    </p:panel>
                    <div class="admin-actions">
                        <p:commandButton value="# {messages['common.cancel']}" type="button" onclick="inicialDlg.hide();"  
                                         style="margin-top:10px;" styleClass="offset4"/>  
                    </div>
                </h:form>
            </p:dialog>-->
        </ui:define>        
    </ui:composition>
</html>                

